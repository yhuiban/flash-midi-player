<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>libfluidsynth: src/fluid_gen.c Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.3 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
  </ul>
</div>
<h1>src/fluid_gen.c</h1><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/* FluidSynth - A Software Synthesizer</span>
<a name="l00002"></a>00002 <span class="comment"> *</span>
<a name="l00003"></a>00003 <span class="comment"> * Copyright (C) 2003  Peter Hanappe and others.</span>
<a name="l00004"></a>00004 <span class="comment"> *</span>
<a name="l00005"></a>00005 <span class="comment"> * This library is free software; you can redistribute it and/or</span>
<a name="l00006"></a>00006 <span class="comment"> * modify it under the terms of the GNU Library General Public License</span>
<a name="l00007"></a>00007 <span class="comment"> * as published by the Free Software Foundation; either version 2 of</span>
<a name="l00008"></a>00008 <span class="comment"> * the License, or (at your option) any later version.</span>
<a name="l00009"></a>00009 <span class="comment"> *</span>
<a name="l00010"></a>00010 <span class="comment"> * This library is distributed in the hope that it will be useful, but</span>
<a name="l00011"></a>00011 <span class="comment"> * WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00012"></a>00012 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU</span>
<a name="l00013"></a>00013 <span class="comment"> * Library General Public License for more details.</span>
<a name="l00014"></a>00014 <span class="comment"> *</span>
<a name="l00015"></a>00015 <span class="comment"> * You should have received a copy of the GNU Library General Public</span>
<a name="l00016"></a>00016 <span class="comment"> * License along with this library; if not, write to the Free</span>
<a name="l00017"></a>00017 <span class="comment"> * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA</span>
<a name="l00018"></a>00018 <span class="comment"> * 02111-1307, USA</span>
<a name="l00019"></a>00019 <span class="comment"> */</span>
<a name="l00020"></a>00020 
<a name="l00021"></a>00021 
<a name="l00022"></a>00022 <span class="preprocessor">#include "fluid_gen.h"</span>
<a name="l00023"></a>00023 <span class="preprocessor">#include "fluid_chan.h"</span>
<a name="l00024"></a>00024 
<a name="l00025"></a>00025 
<a name="l00026"></a>00026 <span class="comment">/* See SFSpec21 $8.1.3 */</span>
<a name="l00027"></a>00027 fluid_gen_info_t fluid_gen_info[] = {
<a name="l00028"></a>00028         <span class="comment">/* number/name             init  scale         min        max         def */</span>
<a name="l00029"></a>00029         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b4446337bebed34df88f998132a5a8492a" title="Sample start address offset (0-32767).">GEN_STARTADDROFS</a>,           1,     1,       0.0f,     1e10f,       0.0f },
<a name="l00030"></a>00030         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b45728b1022388e8e5218383c5f72cf087" title="Sample end address offset (-32767-0).">GEN_ENDADDROFS</a>,             1,     1,     -1e10f,      0.0f,       0.0f },
<a name="l00031"></a>00031         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b423d8f7a3906fa3d8385cea0e1d7119f3" title="Sample loop start address offset (-32767-32767).">GEN_STARTLOOPADDROFS</a>,       1,     1,     -1e10f,     1e10f,       0.0f },
<a name="l00032"></a>00032         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b4989927f815f1be4e32603719f99b6169" title="Sample loop end address offset (-32767-32767).">GEN_ENDLOOPADDROFS</a>,         1,     1,     -1e10f,     1e10f,       0.0f },
<a name="l00033"></a>00033         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b4c60e7883e31e05f35202eba013e33030" title="Sample start address coarse offset (X 32768).">GEN_STARTADDRCOARSEOFS</a>,     0,     1,       0.0f,     1e10f,       0.0f },
<a name="l00034"></a>00034         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b4b8343028edd99ad0a23585760bdb1b78" title="Modulation LFO to pitch.">GEN_MODLFOTOPITCH</a>,          1,     2,  -12000.0f,  12000.0f,       0.0f },
<a name="l00035"></a>00035         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b499387606556a9024de640b4519f7e559" title="Vibrato LFO to pitch.">GEN_VIBLFOTOPITCH</a>,          1,     2,  -12000.0f,  12000.0f,       0.0f },
<a name="l00036"></a>00036         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b4c767cd6d4156318428bcfc9b3a2a087c" title="Modulation envelope to pitch.">GEN_MODENVTOPITCH</a>,          1,     2,  -12000.0f,  12000.0f,       0.0f },
<a name="l00037"></a>00037         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b4e43e689b0b6349a676d26ea3096ed8d2" title="Filter cutoff.">GEN_FILTERFC</a>,               1,     2,    1500.0f,  13500.0f,   13500.0f },
<a name="l00038"></a>00038         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b4587a7ca42e99238fca39cdf42496af6e" title="Filter Q.">GEN_FILTERQ</a>,                1,     1,       0.0f,    960.0f,       0.0f },
<a name="l00039"></a>00039         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b4dd1b67c6e56efccf734e98da71816315" title="Modulation LFO to filter cutoff.">GEN_MODLFOTOFILTERFC</a>,       1,     2,  -12000.0f,  12000.0f,       0.0f },
<a name="l00040"></a>00040         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b40c51d005b15718a7c7e84addd51073c8" title="Modulation envelope to filter cutoff.">GEN_MODENVTOFILTERFC</a>,       1,     2,  -12000.0f,  12000.0f,       0.0f },
<a name="l00041"></a>00041         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b44795d4f36d830b51ba20af142cd17625" title="Sample end address coarse offset (X 32768).">GEN_ENDADDRCOARSEOFS</a>,       0,     1,     -1e10f,      0.0f,       0.0f },
<a name="l00042"></a>00042         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b4488cdd7c1a9f15b82a3c317ce5951cc1" title="Modulation LFO to volume.">GEN_MODLFOTOVOL</a>,            1,     1,    -960.0f,    960.0f,       0.0f },
<a name="l00043"></a>00043         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b4d69d8934c1948487f59ebb2bb128d1c6" title="Unused.">GEN_UNUSED1</a>,                0,     0,       0.0f,      0.0f,       0.0f },
<a name="l00044"></a>00044         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b420dc580d6c53d30eb97efe3e910793b6" title="Chorus send amount.">GEN_CHORUSSEND</a>,             1,     1,       0.0f,   1000.0f,       0.0f },
<a name="l00045"></a>00045         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b48de830acd064933f55e0c1615d1e7f78" title="Reverb send amount.">GEN_REVERBSEND</a>,             1,     1,       0.0f,   1000.0f,       0.0f },
<a name="l00046"></a>00046         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b45b713ab8c931017d98f11b5ed5a81fb1" title="Stereo panning.">GEN_PAN</a>,                    1,     1,    -500.0f,    500.0f,       0.0f },
<a name="l00047"></a>00047         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b4dde8f8746ee200e01c20271da91347f9" title="Unused.">GEN_UNUSED2</a>,                0,     0,       0.0f,      0.0f,       0.0f },
<a name="l00048"></a>00048         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b4a1ac7b036eda39aa74ba970e272f1672" title="Unused.">GEN_UNUSED3</a>,                0,     0,       0.0f,      0.0f,       0.0f },
<a name="l00049"></a>00049         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b420eb3ba79461ca98e9c3e8403bc04e0c" title="Unused.">GEN_UNUSED4</a>,                0,     0,       0.0f,      0.0f,       0.0f },
<a name="l00050"></a>00050         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b49ea8904d2decc65b0239bd11c9e97250" title="Modulation LFO delay.">GEN_MODLFODELAY</a>,            1,     2,  -12000.0f,   5000.0f,  -12000.0f },
<a name="l00051"></a>00051         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b466a660a7b0bebd6d6104dfd8e15b558d" title="Modulation LFO frequency.">GEN_MODLFOFREQ</a>,             1,     4,  -16000.0f,   4500.0f,       0.0f },
<a name="l00052"></a>00052         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b4e61bfcf61774784a5e9aeb9865996a0f" title="Vibrato LFO delay.">GEN_VIBLFODELAY</a>,            1,     2,  -12000.0f,   5000.0f,  -12000.0f },
<a name="l00053"></a>00053         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b4e06bcc982faadd741450780989cbd1b0" title="Vibrato LFO frequency.">GEN_VIBLFOFREQ</a>,             1,     4,  -16000.0f,   4500.0f,       0.0f },
<a name="l00054"></a>00054         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b41dbd9220ed3cdf594dbcc51f2edb888c" title="Modulation envelope delay.">GEN_MODENVDELAY</a>,            1,     2,  -12000.0f,   5000.0f,  -12000.0f },
<a name="l00055"></a>00055         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b49ed1b5c95bd9c461558bbf98eb75157d" title="Modulation envelope attack.">GEN_MODENVATTACK</a>,           1,     2,  -12000.0f,   8000.0f,  -12000.0f },
<a name="l00056"></a>00056         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b465a52aafce25d202e01ace9c8f170a58" title="Modulation envelope hold.">GEN_MODENVHOLD</a>,             1,     2,  -12000.0f,   5000.0f,  -12000.0f },
<a name="l00057"></a>00057         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b495141e243fd2cfd056af89116038bd22" title="Modulation envelope decay.">GEN_MODENVDECAY</a>,            1,     2,  -12000.0f,   8000.0f,  -12000.0f },
<a name="l00058"></a>00058         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b4a8216db47eb4508e8f810da36a3e3199" title="Modulation envelope sustain.">GEN_MODENVSUSTAIN</a>,          0,     1,       0.0f,   1000.0f,       0.0f },
<a name="l00059"></a>00059         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b4d7594c8e4d03e62f7bd5a8770fc6e3d2" title="Modulation envelope release.">GEN_MODENVRELEASE</a>,          1,     2,  -12000.0f,   8000.0f,  -12000.0f },
<a name="l00060"></a>00060         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b4da2d2d053e33b9b54870bc7b6b18c4c3" title="Key to modulation envelope hold.">GEN_KEYTOMODENVHOLD</a>,        0,     1,   -1200.0f,   1200.0f,       0.0f },
<a name="l00061"></a>00061         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b46f26ca6855cfb526ff0d550a98a1e07a" title="Key to modulation envelope decay.">GEN_KEYTOMODENVDECAY</a>,       0,     1,   -1200.0f,   1200.0f,       0.0f },
<a name="l00062"></a>00062         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b4c4ee056799e46d7877cfb4f244aa6922" title="Volume envelope delay.">GEN_VOLENVDELAY</a>,            1,     2,  -12000.0f,   5000.0f,  -12000.0f },
<a name="l00063"></a>00063         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b48719daf5507805113f443c16d19b7d64" title="Volume envelope attack.">GEN_VOLENVATTACK</a>,           1,     2,  -12000.0f,   8000.0f,  -12000.0f },
<a name="l00064"></a>00064         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b4948f8a99eba9400ab3d361ac49a831cb" title="Volume envelope hold.">GEN_VOLENVHOLD</a>,             1,     2,  -12000.0f,   5000.0f,  -12000.0f },
<a name="l00065"></a>00065         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b4034ca3f2dc95233efbba099ef33d8e51" title="Volume envelope decay.">GEN_VOLENVDECAY</a>,            1,     2,  -12000.0f,   8000.0f,  -12000.0f },
<a name="l00066"></a>00066         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b40741e826d8acb00bde4810ec07c3bcd0" title="Volume envelope sustain.">GEN_VOLENVSUSTAIN</a>,          0,     1,       0.0f,   1440.0f,       0.0f },
<a name="l00067"></a>00067         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b4ca3b587527e748ea7aabb2e3a28e70e7" title="Volume envelope release.">GEN_VOLENVRELEASE</a>,          1,     2,  -12000.0f,   8000.0f,  -12000.0f },
<a name="l00068"></a>00068         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b4bb0287401874a3e223f9a79b50c29e6a" title="Key to volume envelope hold.">GEN_KEYTOVOLENVHOLD</a>,        0,     1,   -1200.0f,   1200.0f,       0.0f },
<a name="l00069"></a>00069         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b472ec6209fab9decf6ed9cb5283cdc019" title="Key to volume envelope decay.">GEN_KEYTOVOLENVDECAY</a>,       0,     1,   -1200.0f,   1200.0f,       0.0f },
<a name="l00070"></a>00070         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b46c5a3ae50334d0ccf9e34110f8042234" title="Instrument ID (shouldn&amp;#39;t be set by user).">GEN_INSTRUMENT</a>,             0,     0,       0.0f,      0.0f,       0.0f },
<a name="l00071"></a>00071         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b43372e83322e8c2aac65781599b05972d" title="Reserved.">GEN_RESERVED1</a>,              0,     0,       0.0f,      0.0f,       0.0f },
<a name="l00072"></a>00072         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b403ad65135a7789d6bfed156eebd820d9" title="MIDI note range.">GEN_KEYRANGE</a>,               0,     0,       0.0f,    127.0f,       0.0f },
<a name="l00073"></a>00073         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b48803259e0b53574f3902a6dccb84ce7a" title="MIDI velocity range.">GEN_VELRANGE</a>,               0,     0,       0.0f,    127.0f,       0.0f },
<a name="l00074"></a>00074         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b41746f056035cc6e4ed07161a7259bbe6" title="Sample start loop address coarse offset (X 32768).">GEN_STARTLOOPADDRCOARSEOFS</a>, 0,     1,     -1e10f,     1e10f,       0.0f },
<a name="l00075"></a>00075         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b4cb52265c898014662ec34a0bc5e71aab" title="Fixed MIDI note number.">GEN_KEYNUM</a>,                 1,     0,       0.0f,    127.0f,      -1.0f },
<a name="l00076"></a>00076         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b4e94f0b3bf830e3363041e7c9e1d90095" title="Fixed MIDI velocity value.">GEN_VELOCITY</a>,               1,     1,       0.0f,    127.0f,      -1.0f },
<a name="l00077"></a>00077         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b42db65ad593aeff4e814f9a7b7324c0df" title="Initial volume attenuation.">GEN_ATTENUATION</a>,            1,     1,       0.0f,   1440.0f,       0.0f },
<a name="l00078"></a>00078         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b480970aaa05d48a8678b4c038a7c20b8b" title="Reserved.">GEN_RESERVED2</a>,              0,     0,       0.0f,      0.0f,       0.0f },
<a name="l00079"></a>00079         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b4e57660306a59b9547798d52ce90bb4bb" title="Sample end loop address coarse offset (X 32768).">GEN_ENDLOOPADDRCOARSEOFS</a>,   0,     1,     -1e10f,     1e10f,       0.0f },
<a name="l00080"></a>00080         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b45ffa8b961965bad3ec420e049e399c33" title="Coarse tuning.">GEN_COARSETUNE</a>,             0,     1,    -120.0f,    120.0f,       0.0f },
<a name="l00081"></a>00081         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b468229fec83f8d5d62246d98c6868320d" title="Fine tuning.">GEN_FINETUNE</a>,               0,     1,     -99.0f,     99.0f,       0.0f },
<a name="l00082"></a>00082         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b4b9248845cfc030ec288631e8830e4a71" title="Sample ID (shouldn&amp;#39;t be set by user).">GEN_SAMPLEID</a>,               0,     0,       0.0f,      0.0f,       0.0f },
<a name="l00083"></a>00083         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b45b654b7cb64659b6a48d39bf0b11bc06" title="Sample mode flags.">GEN_SAMPLEMODE</a>,             0,     0,       0.0f,      0.0f,       0.0f },
<a name="l00084"></a>00084         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b423c463aeb10b503f217bdca4c7a01ab8" title="Reserved.">GEN_RESERVED3</a>,              0,     0,       0.0f,      0.0f,       0.0f },
<a name="l00085"></a>00085         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b48d2c25fc136b28599eb551b761a6a24f" title="Scale tuning.">GEN_SCALETUNE</a>,              0,     1,       0.0f,   1200.0f,     100.0f },
<a name="l00086"></a>00086         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b4900ee448f717ec582dac28ce51d08914" title="Exclusive class number.">GEN_EXCLUSIVECLASS</a>,         0,     0,       0.0f,      0.0f,       0.0f },
<a name="l00087"></a>00087         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b4f9dcf53c06eaf19d595685d7fac0f678" title="Sample root note override.">GEN_OVERRIDEROOTKEY</a>,        1,     0,       0.0f,    127.0f,      -1.0f },
<a name="l00088"></a>00088         { <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b4b9a5716b5af1baf131a6225da6687ff0" title="Pitch (NOTE: Not a real SoundFont generator).">GEN_PITCH</a>,                  1,     0,       0.0f,    127.0f,       0.0f }
<a name="l00089"></a>00089 };
<a name="l00090"></a>00090 
<a name="l00091"></a>00091 
<a name="l00097"></a>00097 <span class="keywordtype">int</span>
<a name="l00098"></a><a class="code" href="gen_8h.html#6fac2b435504c68300218dc628afd0fc">00098</a> <a class="code" href="gen_8h.html#6fac2b435504c68300218dc628afd0fc" title="Set an array of generators to their default values.">fluid_gen_set_default_values</a>(<a class="code" href="structfluid__gen__t.html" title="SoundFont generator structure.">fluid_gen_t</a>* gen)
<a name="l00099"></a>00099 {
<a name="l00100"></a>00100         <span class="keywordtype">int</span> i;
<a name="l00101"></a>00101 
<a name="l00102"></a>00102         <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b49c372c341b7b1a718f0016f40c615cf3" title="Value defines the count of generators (fluid_gen_type).">GEN_LAST</a>; i++) {
<a name="l00103"></a>00103                 gen[i].<a class="code" href="structfluid__gen__t.html#7242d2beab84088e8dbeef068a1163fc" title="Is the generator set or not (fluid_gen_flags).">flags</a> = <a class="code" href="gen_8h.html#96f1389ca9e52d85cdf1160a038b4bb5f89dd919018e71c23e41831c13f8ff71" title="Generator value is not set.">GEN_UNUSED</a>;
<a name="l00104"></a>00104                 gen[i].<a class="code" href="structfluid__gen__t.html#dae65a465c3bd8e4e92d7ecbecd0e03d" title="Change by modulators.">mod</a> = 0.0;
<a name="l00105"></a>00105                 gen[i].<a class="code" href="structfluid__gen__t.html#0dec5061c8a0c9b41424807eb66f57f4" title="Change by NRPN messages.">nrpn</a> = 0.0;
<a name="l00106"></a>00106                 gen[i].<a class="code" href="structfluid__gen__t.html#5adad2cf024fb50fa26f8c6d2e119c74" title="The nominal value.">val</a> = fluid_gen_info[i].def;
<a name="l00107"></a>00107         }
<a name="l00108"></a>00108 
<a name="l00109"></a>00109         <span class="keywordflow">return</span> FLUID_OK;
<a name="l00110"></a>00110 }
<a name="l00111"></a>00111 
<a name="l00112"></a>00112 
<a name="l00113"></a>00113 <span class="comment">/* fluid_gen_init</span>
<a name="l00114"></a>00114 <span class="comment"> *</span>
<a name="l00115"></a>00115 <span class="comment"> * Set an array of generators to their initial value</span>
<a name="l00116"></a>00116 <span class="comment"> */</span>
<a name="l00117"></a>00117 <span class="keywordtype">int</span>
<a name="l00118"></a>00118 fluid_gen_init(<a class="code" href="structfluid__gen__t.html" title="SoundFont generator structure.">fluid_gen_t</a>* gen, fluid_channel_t* channel)
<a name="l00119"></a>00119 {
<a name="l00120"></a>00120         <span class="keywordtype">int</span> i;
<a name="l00121"></a>00121 
<a name="l00122"></a>00122         <a class="code" href="gen_8h.html#6fac2b435504c68300218dc628afd0fc" title="Set an array of generators to their default values.">fluid_gen_set_default_values</a>(gen);
<a name="l00123"></a>00123 
<a name="l00124"></a>00124         <span class="keywordflow">for</span> (i = 0; i &lt; <a class="code" href="gen_8h.html#d17a24ae3b25f3b8cc5762f818eef9b49c372c341b7b1a718f0016f40c615cf3" title="Value defines the count of generators (fluid_gen_type).">GEN_LAST</a>; i++) {
<a name="l00125"></a>00125                 gen[i].<a class="code" href="structfluid__gen__t.html#0dec5061c8a0c9b41424807eb66f57f4" title="Change by NRPN messages.">nrpn</a> = fluid_channel_get_gen(channel, i);
<a name="l00126"></a>00126 
<a name="l00127"></a>00127                 <span class="comment">/* This is an extension to the SoundFont standard. More</span>
<a name="l00128"></a>00128 <span class="comment">                 * documentation is available at the fluid_synth_set_gen2()</span>
<a name="l00129"></a>00129 <span class="comment">                 * function. */</span>
<a name="l00130"></a>00130                 <span class="keywordflow">if</span> (fluid_channel_get_gen_abs(channel, i)) {
<a name="l00131"></a>00131                         gen[i].<a class="code" href="structfluid__gen__t.html#7242d2beab84088e8dbeef068a1163fc" title="Is the generator set or not (fluid_gen_flags).">flags</a> = <a class="code" href="gen_8h.html#96f1389ca9e52d85cdf1160a038b4bb5d9b34811c11a1b5078befb70b14c2285" title="DOCME.">GEN_ABS_NRPN</a>;
<a name="l00132"></a>00132                 }
<a name="l00133"></a>00133         }
<a name="l00134"></a>00134 
<a name="l00135"></a>00135         <span class="keywordflow">return</span> FLUID_OK;
<a name="l00136"></a>00136 }
<a name="l00137"></a>00137 
<a name="l00138"></a>00138 fluid_real_t fluid_gen_scale(<span class="keywordtype">int</span> gen, <span class="keywordtype">float</span> value)
<a name="l00139"></a>00139 {
<a name="l00140"></a>00140         <span class="keywordflow">return</span> (fluid_gen_info[gen].min
<a name="l00141"></a>00141                 + value * (fluid_gen_info[gen].max - fluid_gen_info[gen].min));
<a name="l00142"></a>00142 }
<a name="l00143"></a>00143 
<a name="l00144"></a>00144 fluid_real_t fluid_gen_scale_nrpn(<span class="keywordtype">int</span> gen, <span class="keywordtype">int</span> data)
<a name="l00145"></a>00145 {
<a name="l00146"></a>00146         fluid_real_t value = (float) data - 8192.0f;
<a name="l00147"></a>00147         fluid_clip(value, -8192, 8192);
<a name="l00148"></a>00148         <span class="keywordflow">return</span> value * (float) fluid_gen_info[gen].nrpn_scale;
<a name="l00149"></a>00149 }
</pre></div><hr size="1"><address style="text-align: right;"><small>Generated on Sat Nov 17 13:40:23 2007 for libfluidsynth by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.3 </small></address>
</body>
</html>
